document.addEventListener("DOMContentLoaded", function () {
    const adviceData = {
        "Проверено ли состояние печного отопления?": "Регулярно проверяйте печь на трещины и повреждения.",
        "Соблюдается ли безопасное расстояние от печи до горючих материалов?": "Держите легко воспламеняющиеся предметы не ближе 50 см от печи.",
        "Производилась ли очистка дымохода в текущем отопительном сезоне?": "Чистите дымоход не реже 2 раз за сезон, чтобы избежать накопления сажи.",
        "Имеется ли искрогаситель на дымоходе?": "Установите искрогаситель, чтобы предотвратить возгорание от вылетающих искр.",
        "Хранятся ли спички, зажигалки в недоступных для детей местах?": "Держите спички и зажигалки вне зоны доступа детей.",
        "Используются ли безопасные методы утилизации золы и углей?": "Выносите золу только в металлической емкости, убедившись, что она полностью остыла.",
        "Были ли случаи палов сухой травы поблизости?": "Не сжигайте сухую траву — это может привести к пожару.",
        "Проводится ли разъяснительная работа о запрете сжигания мусора?": "Объясните соседям и детям, что сжигание мусора опасно.",
        "Имеются ли альтернативные источники тепла?": "При использовании обогревателей убедитесь, что они исправны и сертифицированы.",
        "Производился ли осмотр электроприборов перед зимним сезоном?": "Проверяйте электропроводку и приборы на наличие повреждений.",
        "Соблюдаются ли нормы при использовании газовых баллонов?": "Храните газовые баллоны в проветриваемых помещениях, вдали от источников тепла.",
        "Нуждаетесь ли в помощи от МЧС?": "Если вам нужна консультация, свяжитесь с местными службами МЧС.",
        "Наличие работающих пожарных извещателей?": "Установите пожарные извещатели и регулярно проверяйте их работоспособность.",
        "Исправность электропроводки?": "При обнаружении поврежденных проводов вызывайте электрика.",
        "Хорошее ли состояние газового оборудования?": "Производите ежегодное техобслуживание газового оборудования.",
        "Наличие исправного огнетушителя?": "Храните огнетушитель на видном месте и проверяйте его срок годности.",
        "Безопасность обогревательных приборов?": "Не накрывайте и не перегружайте электрообогреватели.",
        "Эвакуационные выходы не загромождены?": "Следите, чтобы пути эвакуации всегда были свободны.",
        "Жильцы знают план эвакуации?": "Разработайте план эвакуации и обучите всех членов семьи.",
        "В доме проживают маломобильные граждане?": "Разработайте индивидуальный план эвакуации для людей с ограниченной подвижностью."
    };

    const failedQuestions = JSON.parse(localStorage.getItem("failedQuestions")) || [];
    const adviceContainer = document.getElementById("adviceContainer");

    if (failedQuestions.length > 0) {
        adviceContainer.innerHTML = failedQuestions.map((q, index) => 
            `<div class="advice-card" style="animation-delay: ${index * 0.1}s">
                <strong>${q}</strong>: ${adviceData[q] || "Совет отсутствует"}
            </div>`
        ).join("");
    } else {
        adviceContainer.innerHTML = "<p style='color: #2e7d32; font-weight: bold;'>Поздравляем! У вас нет нарушений пожарной безопасности.</p>";
    }
});
